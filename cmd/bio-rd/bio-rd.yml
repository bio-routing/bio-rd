routing_options:
  autonomous_system: 65100
  router_id: 169.254.100.1
policy_options:
  policy_statements:
    - name: "PeerA-In"
      terms:
        - name: "Reject_certain_stuff"
          from:
            route_filters:
              - prefix: "10.0.0.0/8"
                matcher: "orlonger"
              - prefix: "192.168.0.0/24"
                matcher: "exact"
              - prefix: "169.254.10.0/24"
                matcher: "exact"
          then:
            reject: true
        - name: "Accept_all_other"
          then:
            accept: true
    - name: "PeerB-In"
      terms:
        - name: "ACCEPT-SOME"
          from:
            route_filters:
              - prefix: "8.8.8.8/32"
                matcher: "exact"
              - prefix: "10.0.0.0/8"
                matcher: "orlonger"
          then:
            accept: true
        - name: "REJECT"
          then:
            reject: true
    - name: "ACCEPT_ALL"
      terms:
        - name: "ACCEPT_ALL"
          then:
            accept: true
    - name: "REJECT_ALL"
      terms:
        - name: "REJECT_ALL"
          then:
            reject: true
    - name: "PeerA-Out"
      terms:
        - name: "SET-MED and prepend"
          then:
            med: 1337
            as_path_prepend:
              asn: 51324
              count: 20
            accept: true
    - name: "PeerA-Out2"
      terms:
        - name: "SET-MED and next-hop"
          then:
            med: 31337
            next_hop:
              address: "127.0.0.1"
            accept: true
      
protocols:
  bgp:
    groups:
      - name: "IXP RS Clients"
        local_address: 169.254.100.1
        route_server_client: true
        passive: true
        neighbors:
          - peer_address: 169.254.100.2
            peer_as: 65200
            import: ["ACCEPT_ALL"]
            export: ["PeerA-Out"]
          - peer_address: 169.254.100.3
            peer_as: 65300
            import: ["PeerB-In"]
            export: ["ACCEPT_ALL"]
